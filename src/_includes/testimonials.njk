{% set testimonials = testimonials[locale] or testimonials['fr'] or [] %}
{% if testimonials and testimonials.length > 0 %}
<section id="testimonials" class="max-w-6xl mx-auto px-6 md:px-12 py-16">
  <div class="text-center mb-12">
    <h2 class="text-3xl md:text-4xl font-bold text-[#2D5016] mb-4">
      {% if locale == 'fr' %}Témoignages{% elif locale == 'en' %}Testimonials{% elif locale == 'de' %}Testimonials{% elif locale == 'es' %}Testimonios{% else %}Depoimentos{% endif %}
    </h2>
    <p class="text-lg text-[#1f1f1f]/80">
      {% if locale == 'fr' %}Ce que nos hôtes disent{% elif locale == 'en' %}What our guests say{% elif locale == 'de' %}Was unsere Gäste sagen{% elif locale == 'es' %}Lo que dicen nuestros huéspedes{% else %}O que nossos hóspedes dizem{% endif %}
    </p>
  </div>

  <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
    {% for testimonial in testimonials %}
    <div class="section-card p-6 bg-white">
      <div class="flex items-center gap-2 mb-4">
        <div class="flex">
          {% for i in range(1, 6) %}
            {% if i <= testimonial.rating %}
              <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
              </svg>
            {% else %}
              <svg class="w-5 h-5 text-gray-300" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
              </svg>
            {% endif %}
          {% endfor %}
        </div>
      </div>
      
      <p class="text-[#1f1f1f]/80 mb-4 italic">"{{ testimonial.text }}"</p>
      
      <div class="flex items-center justify-between pt-4 border-t border-[#2D5016]/20">
        <div>
          <p class="font-semibold text-[#2D5016]">{{ testimonial.author }}</p>
          {% if testimonial.source %}
          <p class="text-sm text-[#1f1f1f]/60">{{ testimonial.source }}</p>
          {% endif %}
        </div>
        {% if testimonial.date %}
        <p class="text-sm text-[#1f1f1f]/60">{{ testimonial.date | date("MMM yyyy", locale) }}</p>
        {% endif %}
      </div>
    </div>
    {% endfor %}
  </div>
</section>
{% endif %}
